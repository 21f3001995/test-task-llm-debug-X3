<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Total Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>Total Sales Calculator</h1>
        <div id="total-sales" class="alert alert-info" role="alert">
            Total Sales: $0
        </div>
    </div>
    <script>
        async function fetchCSV() {
            const response = await fetch('sales.csv');
            const data = await response.text();
            return data;
        }

        function parseCSV(data) {
            const rows = data.split('\n').slice(1);
            const sales = rows.map(row => {
                const columns = row.split(',');
                return parseFloat(columns[1]);
            }).filter(value => !isNaN(value));
            console.log('Parsed CSV:', sales);
            return sales;
        }

        function computeTotal(sales) {
            const total = sales.reduce((acc, value) => acc + value, 0);
            console.log('Computed Total:', total);
            return total;
        }

        async function main() {
            const csvData = await fetchCSV();
            const sales = parseCSV(csvData);
            const totalSales = computeTotal(sales);
            document.getElementById('total-sales').innerText = `Total Sales: $${totalSales}`;
            console.log('Numeric Values:', sales);
        }

        main();
    </script>
</body>
</html>